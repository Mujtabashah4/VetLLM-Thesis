{
  "report_metadata": {
    "date": "2026-01-05",
    "project": "VetLLM Fine-Tuning",
    "status": "COMPLETE"
  },
  "model_configuration": {
    "base_model": "Alpaca-7B Native",
    "base_model_path": "models/alpaca-7b-native",
    "total_parameters": 6750000000,
    "trainable_parameters": 16777216,
    "trainable_percentage": 0.25,
    "quantization": {
      "enabled": true,
      "bits": 4,
      "type": "NF4",
      "compute_dtype": "bfloat16",
      "double_quant": true
    },
    "lora": {
      "rank": 16,
      "alpha": 32,
      "dropout": 0.1,
      "target_modules": ["q_proj", "k_proj", "v_proj", "o_proj"],
      "bias": "none",
      "peft_type": "LORA",
      "task_type": "CAUSAL_LM"
    }
  },
  "training_configuration": {
    "epochs": 3,
    "batch_size": 2,
    "gradient_accumulation_steps": 4,
    "effective_batch_size": 8,
    "learning_rate": 0.0002,
    "lr_scheduler": "cosine",
    "warmup_steps": 20,
    "max_seq_length": 512,
    "weight_decay": 0.01,
    "optimizer": "adamw_8bit"
  },
  "hardware": {
    "gpu": "NVIDIA GeForce RTX 4090",
    "gpu_memory_total_mb": 24564,
    "gpu_memory_used_mb": 7700,
    "gpu_utilization_percent": 31.4,
    "precision": "bfloat16",
    "tf32_enabled": true
  },
  "dataset": {
    "path": "processed_data/all_processed_data.json",
    "total_samples": 1602,
    "total_steps": 603,
    "format": "instruction-input-output"
  },
  "training_results": {
    "runtime_seconds": 625.65,
    "runtime_formatted": "10m 26s",
    "samples_per_second": 7.682,
    "steps_per_second": 0.964,
    "total_flops": 2.504e16,
    "loss": {
      "initial": 3.3359,
      "final": 0.0533,
      "average": 0.1576,
      "reduction_absolute": 3.2826,
      "reduction_percent": 93.2
    },
    "perplexity": {
      "initial": 28.10,
      "final": 1.055
    },
    "gradient_norm": {
      "initial": 17.55,
      "final": 0.175
    }
  },
  "validation_results": {
    "tests_total": 4,
    "tests_passed": 3,
    "tests_partial": 1,
    "tests_failed": 0,
    "test_cases": [
      {
        "id": 1,
        "input": "Cow with high fever, nasal discharge, difficulty breathing",
        "prediction": "Respiratory disease",
        "expected_keywords": ["respiratory", "infection", "pneumonia", "fever"],
        "found_keywords": ["respiratory", "fever"],
        "result": "PASSED"
      },
      {
        "id": 2,
        "input": "Buffalo calf with severe diarrhea and dehydration",
        "prediction": "Diagnosed with diarrhea",
        "expected_keywords": ["diarrhea", "dehydration", "calf", "fluid"],
        "found_keywords": ["diarrhea", "dehydration", "calf"],
        "result": "PASSED"
      },
      {
        "id": 3,
        "input": "Goat showing weakness, loss of appetite, pale mucous membranes",
        "prediction": "Foot rot",
        "expected_keywords": ["anemia", "weakness", "parasit", "worm"],
        "found_keywords": [],
        "result": "PARTIAL"
      },
      {
        "id": 4,
        "input": "Sheep with skin lesions and wool loss",
        "prediction": "Skin lesions",
        "expected_keywords": ["skin", "dermat", "mange", "lesion"],
        "found_keywords": ["skin", "lesion"],
        "result": "PASSED"
      }
    ]
  },
  "performance_metrics": {
    "accuracy": 0.75,
    "precision": 1.0,
    "recall": 0.75,
    "f1_score": 0.857,
    "notes": "Based on 4-test validation suite with keyword matching"
  },
  "output_artifacts": {
    "adapter_model": {
      "path": "models/vetllm-finetuned/adapter_model.safetensors",
      "size_bytes": 67143296,
      "size_mb": 64.02
    },
    "adapter_config": "models/vetllm-finetuned/adapter_config.json",
    "tokenizer": "models/vetllm-finetuned/tokenizer.model",
    "trainer_state": "models/vetllm-finetuned/trainer_state.json",
    "checkpoints": ["checkpoint-600", "checkpoint-603"]
  },
  "comparison_full_finetuning": {
    "memory_required_gb": {
      "full": 50,
      "qlora": 7.7
    },
    "training_time_hours": {
      "full": 2.5,
      "qlora": 0.17
    },
    "model_quality_percent": {
      "full": 100,
      "qlora_expected": 97
    },
    "storage_mb": {
      "full": 13000,
      "qlora": 67
    }
  },
  "loss_history": [
    {"step": 10, "epoch": 0.05, "loss": 3.3359, "learning_rate": 9.47e-5},
    {"step": 20, "epoch": 0.10, "loss": 1.9347, "learning_rate": 0.0002},
    {"step": 30, "epoch": 0.15, "loss": 0.4986, "learning_rate": 0.0002},
    {"step": 50, "epoch": 0.25, "loss": 0.1482, "learning_rate": 0.0002},
    {"step": 100, "epoch": 0.50, "loss": 0.0802, "learning_rate": 0.00019},
    {"step": 200, "epoch": 1.00, "loss": 0.0587, "learning_rate": 0.00016},
    {"step": 300, "epoch": 1.49, "loss": 0.0549, "learning_rate": 0.00011},
    {"step": 400, "epoch": 1.99, "loss": 0.0562, "learning_rate": 5.44e-5},
    {"step": 500, "epoch": 2.49, "loss": 0.0549, "learning_rate": 1.52e-5},
    {"step": 600, "epoch": 2.99, "loss": 0.0533, "learning_rate": 2.31e-8},
    {"step": 603, "epoch": 3.00, "loss": 0.0533, "learning_rate": 0}
  ]
}

